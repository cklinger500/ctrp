<div class="row">
    <uib-accordion close-others="false">
        <uib-accordion-group is-open="paTrialOverview.accordionOpen">
            <uib-accordion-heading>
                Trial Descriptions <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': paTrialOverview.accordionOpen, 'glyphicon-chevron-right': !paTrialOverview.accordionOpen}"></i>
            </uib-accordion-heading>
            <div class="row">
                <form name="desc_form" role="form" class="form-horizontal" novalidate ctrp-submit="descView.saveTrialDescription()">
                    <!-- fieldset for Title -->
                    <fieldset class="sub-bordered" restriction-field ng-disabled="!paTrialOverview.trialDetailObj.pa_sci_editable">
                        <legend class="sub-bordered">Title</legend>

                        <div class="form-group has-feedback required" ng-class="{'has-error': ctrpbtn.desc_form.needsAttention(desc_form.brief_title)}">
                            <label for="brief_title" class="control-label col-xs-12 col-sm-2">Brief Title</label>
                            <div class="col-xs-12 col-sm-10">
                                <input name="brief_title"
                                          id="brief_title"
                                          rows="5"
                                          class="form-control"
                                          ng-model="descView.curTrial.brief_title"
                                          ng-maxlength="300"
                                          maxlength="300"
                                          ng-required="true">
                                </input>
                                <span ng-show="desc_form.brief_title.$dirty">
                                    {{300 - desc_form.brief_title.$viewValue.length}} characters left
                                </span>

                            </div>

                            <span ng-messages="ctrpbtn.desc_form.needsAttention(desc_form.brief_title) && desc_form.brief_title.$error">
                              <span class="help-block" ng-message="required">Brief Title is required</span>
                            </span>
                        </div>
                    </fieldset>
                    <!-- fieldset for Summary -->
                    <fieldset class="sub-bordered" restriction-field ng-disabled="!paTrialOverview.trialDetailObj.pa_sci_editable">
                        <legend class="sub-bordered">Summary</legend>

                        <div class="form-group has-feedback required" ng-class="{'has-error': ctrpbtn.desc_form.needsAttention(desc_form.brief_summary)}">
                            <label for="brief_title" class="control-label col-xs-12 col-sm-2">Brief Summary</label>
                            <div class="col-xs-12 col-sm-10">
                                <textarea name="brief_summary"
                                          id="brief_summary"
                                          rows="5"
                                          class="form-control"
                                          ng-model="descView.curTrial.brief_summary"
                                          maxlength="5000"
                                          ng-maxlength="5000"
                                          ng-required="true">
                                </textarea>
                                <span ng-show="desc_form.brief_summary.$dirty">
                                    {{5000 - desc_form.brief_summary.$viewValue.length}} characters left
                                </span>
                            </div>

                            <span ng-messages="ctrpbtn.desc_form.needsAttention(desc_form.brief_summary) && desc_form.brief_summary.$error">
                              <span class="help-block" ng-message="required">Summary is required</span>
                            </span>
                        </div>
                    </fieldset>
                    <!-- fieldset for Objectives -->
                    <fieldset class="sub-bordered" restriction-field ng-disabled="!paTrialOverview.trialDetailObj.pa_sci_editable">
                        <legend class="sub-bordered">Objectives</legend>

                        <div class="form-group has-feedback">
                            <label for="objectives" class="control-label col-xs-12 col-sm-2">Objectives</label>
                            <div class="col-xs-12 col-sm-10">
                                <textarea name="objective"
                                          id="objective"
                                          rows="5"
                                          class="form-control"
                                          ng-model="descView.curTrial.objective">
                                </textarea>
                            </div>
                        </div>
                    </fieldset>
                    <!-- fieldset for Detailed Description -->
                    <fieldset class="sub-bordered" restriction-field ng-disabled="!paTrialOverview.trialDetailObj.pa_sci_editable">
                        <legend class="sub-bordered">Detailed Description</legend>

                        <div class="form-group has-feedback" ng-class="{'has-error': ctrpbtn.desc_form.needsAttention(desc_form.detailed_description)}">
                            <label for="detailed_description" class="control-label col-xs-12 col-sm-2">Detailed Description</label>
                            <div class="col-xs-12 col-sm-10">
                                <textarea name="detailed_description"
                                          id="detailed_description"
                                          rows="10"
                                          class="form-control"
                                          ng-model="descView.curTrial.detailed_description"
                                          maxlength="32000"
                                          ng-maxlength="32000">
                                </textarea>
                                <span ng-show="desc_form.detailed_description.$dirty">
                                    {{32000 - desc_form.detailed_description.$viewValue.length}} characters left
                                </span>
                            </div>
                        </div>
                    </fieldset>
                    <div class="form-group no-bottom-margin" ng-show="paTrialOverview.trialDetailObj.pa_sci_editable">
                        <div class="btn-toolbar">
                            <button type="submit" class="btn btn-primary pull-right" id="submit_processing" restriction-field>Save</button>
                            <button type="button"class="btn btn-warning pull-right" ng-click="descView.reload()" restriction-field>
                                <i class="glyphicon glyphicon-remove"></i> Reset
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </uib-accordion-group>
    </uib-accordion>
</div>
